{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Vanja\\\\Desktop\\\\Vanja\\\\GitHub\\\\Book-Swap-Local\\\\frontEnd\\\\src\\\\Pages\\\\EditPost.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport './CreatePost.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction EditPost() {\n  _s();\n  const [post, setPost] = useState({\n    title: '',\n    description: '',\n    author: '',\n    price: '',\n    genre: '',\n    picture: ''\n  });\n  const [genres, setGenres] = useState([]);\n  const [selectedFile, setSelectedFile] = useState(null);\n  const navigate = useNavigate();\n  const {\n    id\n  } = useParams();\n  useEffect(() => {\n    axios.get(`http://localhost:8081/get-post/${id}`).then(res => {\n      setPost(res.data);\n    }).catch(err => {\n      console.error(err);\n    });\n    axios.get('http://localhost:8081/get-genres').then(res => {\n      setGenres(res.data);\n    }).catch(err => {\n      console.error(err);\n    });\n  }, [id]);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setPost({\n      ...post,\n      [name]: value\n    });\n  };\n  const handleFileChange = e => {\n    setSelectedFile(e.target.files[0]);\n  };\n  const handleSave = e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append('title', post.title);\n    formData.append('description', post.description);\n    formData.append('author', post.author);\n    formData.append('price', post.price);\n    formData.append('genre', post.genre);\n    if (selectedFile) {\n      formData.append('picture', selectedFile);\n    }\n    axios.put(`http://localhost:8081/update-post/${id}`, formData).then(() => {\n      navigate('/');\n    }).catch(err => {\n      console.error(err);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"edit-post\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSave,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"title\",\n        value: post.title,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"description\",\n        value: post.description,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Author\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"author\",\n        value: post.author,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Price\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"price\",\n        value: post.price,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Genre\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"genre\",\n        value: post.genre,\n        onChange: handleChange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Select Genre\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this), genres.map(genre => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: genre.name,\n          children: genre.name\n        }, genre.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 25\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Picture\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        onChange: handleFileChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), post.picture && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: `http://localhost:8081/${post.picture}`,\n        alt: \"post\",\n        width: \"100\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Save Changes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 9\n  }, this);\n}\n_s(EditPost, \"OZdMdh+Mb6O/PT2+q3+gJolxNSo=\", false, function () {\n  return [useNavigate, useParams];\n});\n_c = EditPost;\nexport default EditPost;\nvar _c;\n$RefreshReg$(_c, \"EditPost\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useParams","axios","jsxDEV","_jsxDEV","EditPost","_s","post","setPost","title","description","author","price","genre","picture","genres","setGenres","selectedFile","setSelectedFile","navigate","id","get","then","res","data","catch","err","console","error","handleChange","e","name","value","target","handleFileChange","files","handleSave","preventDefault","formData","FormData","append","put","className","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","map","src","alt","width","_c","$RefreshReg$"],"sources":["C:/Users/Vanja/Desktop/Vanja/GitHub/Book-Swap-Local/frontEnd/src/Pages/EditPost.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './CreatePost.css';\r\n\r\nfunction EditPost() {\r\n    const [post, setPost] = useState({\r\n        title: '',\r\n        description: '',\r\n        author: '',\r\n        price: '',\r\n        genre: '',\r\n        picture: ''\r\n    });\r\n    const [genres, setGenres] = useState([]);\r\n    const [selectedFile, setSelectedFile] = useState(null);\r\n    const navigate = useNavigate();\r\n    const { id } = useParams();\r\n\r\n    useEffect(() => {\r\n        axios.get(`http://localhost:8081/get-post/${id}`)\r\n            .then(res => {\r\n                setPost(res.data);\r\n            })\r\n            .catch(err => {\r\n                console.error(err);\r\n            });\r\n\r\n        axios.get('http://localhost:8081/get-genres')\r\n            .then(res => {\r\n                setGenres(res.data);\r\n            })\r\n            .catch(err => {\r\n                console.error(err);\r\n            });\r\n    }, [id]);\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setPost({ ...post, [name]: value });\r\n    };\r\n\r\n    const handleFileChange = (e) => {\r\n        setSelectedFile(e.target.files[0]);\r\n    };\r\n\r\n    const handleSave = (e) => {\r\n        e.preventDefault();\r\n        const formData = new FormData();\r\n        formData.append('title', post.title);\r\n        formData.append('description', post.description);\r\n        formData.append('author', post.author);\r\n        formData.append('price', post.price);\r\n        formData.append('genre', post.genre);\r\n        if (selectedFile) {\r\n            formData.append('picture', selectedFile);\r\n        }\r\n        axios.put(`http://localhost:8081/update-post/${id}`, formData)\r\n            .then(() => {\r\n                navigate('/');\r\n            })\r\n            .catch(err => {\r\n                console.error(err);\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div className=\"edit-post\">\r\n            <form onSubmit={handleSave}>\r\n                <label>Title</label>\r\n                <input type=\"text\" name=\"title\" value={post.title} onChange={handleChange} />\r\n\r\n                <label>Description</label>\r\n                <textarea name=\"description\" value={post.description} onChange={handleChange} />\r\n\r\n                <label>Author</label>\r\n                <input type=\"text\" name=\"author\" value={post.author} onChange={handleChange} />\r\n\r\n                <label>Price</label>\r\n                <input type=\"number\" name=\"price\" value={post.price} onChange={handleChange} />\r\n\r\n                <label>Genre</label>\r\n                <select name=\"genre\" value={post.genre} onChange={handleChange}>\r\n                    <option value=\"\">Select Genre</option>\r\n                    {genres.map((genre) => (\r\n                        <option key={genre.id} value={genre.name}>{genre.name}</option>\r\n                    ))}\r\n                </select>\r\n\r\n                <label>Picture</label>\r\n                <input type=\"file\" onChange={handleFileChange} />\r\n                {post.picture && (\r\n                    <img src={`http://localhost:8081/${post.picture}`} alt=\"post\" width=\"100\" />\r\n                )}\r\n\r\n                <button type=\"submit\">Save Changes</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EditPost;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}