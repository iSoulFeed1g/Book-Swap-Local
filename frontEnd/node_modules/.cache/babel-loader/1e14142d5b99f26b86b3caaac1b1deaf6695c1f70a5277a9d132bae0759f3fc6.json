{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'./FilterModal.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function FilterModal(_ref){let{onClose,onFilterChange}=_ref;const[genres,setGenres]=useState([]);const[selectedSortBy,setSelectedSortBy]=useState('newest');const[selectedGenre,setSelectedGenre]=useState('');useEffect(()=>{fetchGenres();},[]);const fetchGenres=()=>{axios.get('http://localhost:8081/genres').then(res=>{setGenres(res.data);}).catch(err=>{console.log(\"Error fetching genres:\",err);});};const handleApplyFilters=()=>{onFilterChange({sortBy:selectedSortBy,genre:selectedGenre});onClose();// Close the modal after applying filters\n};return/*#__PURE__*/_jsx(\"div\",{className:\"filter-modal-backdrop\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"filter-modal\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"select\",{value:selectedSortBy,onChange:e=>setSelectedSortBy(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"newest\",children:\"Newest\"}),/*#__PURE__*/_jsx(\"option\",{value:\"oldest\",children:\"Oldest\"}),/*#__PURE__*/_jsx(\"option\",{value:\"priceAsc\",children:\"Price: Low to High\"}),/*#__PURE__*/_jsx(\"option\",{value:\"priceDesc\",children:\"Price: High to Low\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:selectedGenre,onChange:e=>setSelectedGenre(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Genres\"}),genres.map(genre=>/*#__PURE__*/_jsx(\"option\",{value:genre.name,children:genre.name},genre.id))]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleApplyFilters,children:\"Apply Filters\"})]})});}export default FilterModal;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","FilterModal","_ref","onClose","onFilterChange","genres","setGenres","selectedSortBy","setSelectedSortBy","selectedGenre","setSelectedGenre","fetchGenres","get","then","res","data","catch","err","console","log","handleApplyFilters","sortBy","genre","className","onClick","children","e","stopPropagation","value","onChange","target","map","name","id"],"sources":["C:/Users/Vanja/Desktop/Vanja/GitHub/Book-Swap-Local/frontEnd/src/Pages/FilterModal.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './FilterModal.css';\r\n\r\nfunction FilterModal({ onClose, onFilterChange }) {\r\n  const [genres, setGenres] = useState([]);\r\n  const [selectedSortBy, setSelectedSortBy] = useState('newest');\r\n  const [selectedGenre, setSelectedGenre] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchGenres();\r\n  }, []);\r\n\r\n  const fetchGenres = () => {\r\n    axios.get('http://localhost:8081/genres')\r\n      .then(res => {\r\n        setGenres(res.data);\r\n      })\r\n      .catch(err => {\r\n        console.log(\"Error fetching genres:\", err);\r\n      });\r\n  };\r\n\r\n  const handleApplyFilters = () => {\r\n    onFilterChange({\r\n      sortBy: selectedSortBy,\r\n      genre: selectedGenre\r\n    });\r\n    onClose(); // Close the modal after applying filters\r\n  };\r\n\r\n  return (\r\n    <div className=\"filter-modal-backdrop\" onClick={onClose}>\r\n      <div className=\"filter-modal\" onClick={(e) => e.stopPropagation()}>\r\n        <select value={selectedSortBy} onChange={(e) => setSelectedSortBy(e.target.value)}>\r\n          <option value=\"newest\">Newest</option>\r\n          <option value=\"oldest\">Oldest</option>\r\n          <option value=\"priceAsc\">Price: Low to High</option>\r\n          <option value=\"priceDesc\">Price: High to Low</option>\r\n        </select>\r\n        <select value={selectedGenre} onChange={(e) => setSelectedGenre(e.target.value)}>\r\n          <option value=\"\">All Genres</option>\r\n          {genres.map(genre => (\r\n            <option key={genre.id} value={genre.name}>{genre.name}</option>\r\n          ))}\r\n        </select>\r\n        <button onClick={handleApplyFilters}>Apply Filters</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FilterModal;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3B,QAAS,CAAAC,WAAWA,CAAAC,IAAA,CAA8B,IAA7B,CAAEC,OAAO,CAAEC,cAAe,CAAC,CAAAF,IAAA,CAC9C,KAAM,CAACG,MAAM,CAAEC,SAAS,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACa,cAAc,CAAEC,iBAAiB,CAAC,CAAGd,QAAQ,CAAC,QAAQ,CAAC,CAC9D,KAAM,CAACe,aAAa,CAAEC,gBAAgB,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAEtDC,SAAS,CAAC,IAAM,CACdgB,WAAW,CAAC,CAAC,CACf,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,WAAW,CAAGA,CAAA,GAAM,CACxBf,KAAK,CAACgB,GAAG,CAAC,8BAA8B,CAAC,CACtCC,IAAI,CAACC,GAAG,EAAI,CACXR,SAAS,CAACQ,GAAG,CAACC,IAAI,CAAC,CACrB,CAAC,CAAC,CACDC,KAAK,CAACC,GAAG,EAAI,CACZC,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAEF,GAAG,CAAC,CAC5C,CAAC,CAAC,CACN,CAAC,CAED,KAAM,CAAAG,kBAAkB,CAAGA,CAAA,GAAM,CAC/BhB,cAAc,CAAC,CACbiB,MAAM,CAAEd,cAAc,CACtBe,KAAK,CAAEb,aACT,CAAC,CAAC,CACFN,OAAO,CAAC,CAAC,CAAE;AACb,CAAC,CAED,mBACEL,IAAA,QAAKyB,SAAS,CAAC,uBAAuB,CAACC,OAAO,CAAErB,OAAQ,CAAAsB,QAAA,cACtDzB,KAAA,QAAKuB,SAAS,CAAC,cAAc,CAACC,OAAO,CAAGE,CAAC,EAAKA,CAAC,CAACC,eAAe,CAAC,CAAE,CAAAF,QAAA,eAChEzB,KAAA,WAAQ4B,KAAK,CAAErB,cAAe,CAACsB,QAAQ,CAAGH,CAAC,EAAKlB,iBAAiB,CAACkB,CAAC,CAACI,MAAM,CAACF,KAAK,CAAE,CAAAH,QAAA,eAChF3B,IAAA,WAAQ8B,KAAK,CAAC,QAAQ,CAAAH,QAAA,CAAC,QAAM,CAAQ,CAAC,cACtC3B,IAAA,WAAQ8B,KAAK,CAAC,QAAQ,CAAAH,QAAA,CAAC,QAAM,CAAQ,CAAC,cACtC3B,IAAA,WAAQ8B,KAAK,CAAC,UAAU,CAAAH,QAAA,CAAC,oBAAkB,CAAQ,CAAC,cACpD3B,IAAA,WAAQ8B,KAAK,CAAC,WAAW,CAAAH,QAAA,CAAC,oBAAkB,CAAQ,CAAC,EAC/C,CAAC,cACTzB,KAAA,WAAQ4B,KAAK,CAAEnB,aAAc,CAACoB,QAAQ,CAAGH,CAAC,EAAKhB,gBAAgB,CAACgB,CAAC,CAACI,MAAM,CAACF,KAAK,CAAE,CAAAH,QAAA,eAC9E3B,IAAA,WAAQ8B,KAAK,CAAC,EAAE,CAAAH,QAAA,CAAC,YAAU,CAAQ,CAAC,CACnCpB,MAAM,CAAC0B,GAAG,CAACT,KAAK,eACfxB,IAAA,WAAuB8B,KAAK,CAAEN,KAAK,CAACU,IAAK,CAAAP,QAAA,CAAEH,KAAK,CAACU,IAAI,EAAxCV,KAAK,CAACW,EAA2C,CAC/D,CAAC,EACI,CAAC,cACTnC,IAAA,WAAQ0B,OAAO,CAAEJ,kBAAmB,CAAAK,QAAA,CAAC,eAAa,CAAQ,CAAC,EACxD,CAAC,CACH,CAAC,CAEV,CAEA,cAAe,CAAAxB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}